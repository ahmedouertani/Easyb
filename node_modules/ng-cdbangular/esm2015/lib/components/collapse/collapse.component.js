import { Component, Input, Renderer2, ViewChild, } from '@angular/core';
import { trigger, state, style, transition, animate, query, } from '@angular/animations';
export class CollapseComponent {
    constructor(renderer) {
        this.renderer = renderer;
        this.isOpen = false;
        this.navbar = false;
        this.expand = false;
        this.sm = 576;
        this.md = 768;
        this.lg = 992;
        this.xl = 1200;
    }
    ngOnInit() {
        if (this.navbar === true) {
            if (this.expand === false) {
                this.isOpen = false;
            }
            else {
                this.manageIsOpenState(this.expand);
            }
            window.addEventListener('resize', () => {
                this.manageIsOpenState(this.expand);
                this.manageCollapseClassAndAnimationState();
            });
        }
        this.manageCollapseClassAndAnimationState();
    }
    ngAfterViewInit() {
        if (this.navbar === true) {
            this.renderer.addClass(this.cdbCollapse.nativeElement, 'navbar-collapse');
        }
    }
    toggleCollapse() {
        this.isOpen ? this.hide() : this.show();
    }
    show() {
        this.isOpen = true;
        this.expandAnimationState = 'expanded';
    }
    hide() {
        this.isOpen = false;
        this.expandAnimationState = 'collapsed';
    }
    onExpandBodyStart(event) {
        this.class = 'collapsing';
    }
    onExpandBodyDone(event) {
        if (this.isOpen === true) {
            this.class = 'collapse show';
        }
        else {
            this.class = 'collapse';
        }
    }
    manageIsOpenState(expand) {
        if (this.expand !== false) {
            if (expand === 'sm') {
                this.viewWidth = this.sm;
            }
            else if (expand === 'md') {
                this.viewWidth = this.md;
            }
            else if (expand === 'lg') {
                this.viewWidth = this.lg;
            }
            else if (expand === 'xl') {
                this.viewWidth = this.xl;
            }
            if (matchMedia(`(min-width: ${this.viewWidth}px)`).matches) {
                this.isOpen = true;
            }
            if (matchMedia(`(max-width: ${this.viewWidth - 0.02}px)`).matches) {
                this.isOpen = false;
            }
        }
    }
    manageCollapseClassAndAnimationState() {
        if (this.isOpen === true) {
            this.class = 'collapse show';
            this.expandAnimationState = 'expanded';
        }
        else {
            this.class = 'collapse';
            this.expandAnimationState = 'collapsed';
        }
    }
}
CollapseComponent.decorators = [
    { type: Component, args: [{
                selector: 'CDBCollapse',
                exportAs: 'cdbCollapse',
                template: "<ng-container [ngSwitch]=\"navbar === true\">\n    <ng-container *ngSwitchCase=\"true\">\n        <div #cdbCollapse [@expandBody2]=\"expandAnimationState\" (@expandBody2.start)=\"onExpandBodyStart($event)\"\n            (@expandBody2.done)=\"onExpandBodyDone($event)\" [style]=\"style\">\n            <ng-container *ngTemplateOutlet=\"content\"></ng-container>\n        </div>\n    </ng-container>\n\n    <ng-container *ngSwitchCase=\"false\">\n        <div #cdbCollapse [@expandBody]=\"expandAnimationState\" (@expandBody.start)=\"onExpandBodyStart($event)\"\n            (@expandBody.done)=\"onExpandBodyDone($event)\" [style]=\"style\">\n            <ng-container *ngTemplateOutlet=\"content\"></ng-container>\n        </div>\n    </ng-container>\n</ng-container>\n\n<ng-template #content>\n    <ng-content></ng-content>\n</ng-template>",
                animations: [
                    trigger('expandBody', [
                        state('collapsed', style({ height: '0px', overflow: 'hidden' })),
                        state('expanded', style({ height: '*', overflow: 'visible' })),
                        transition('expanded <=> collapsed', animate('350ms ease')),
                    ]),
                    trigger('expandBody2', [
                        state('collapsed', style({ height: '0px', overflow: 'hidden' })),
                        state('expanded', style({ height: '*', overflow: 'visible' })),
                        transition('expanded <=> collapsed', [
                            query('*', style({ opacity: 0 }), {
                                optional: true,
                            }),
                            animate('350ms ease'),
                        ]),
                    ]),
                ],
                styles: [".primary{background-color:#276ef1;border-color:#276ef1;box-sizing:border-box;color:#fff}.primary:hover{background-color:rgba(39,110,241,.7411764705882353);color:#fff}.secondary{background-color:#7356bf;border-color:#7356bf;color:#fff}.secondary:hover{background-color:rgba(115,86,191,.7411764705882353);color:#fff}.success{background-color:#05944f;border-color:#05944f;color:#fff}.success:hover{background-color:rgba(5,148,79,.7411764705882353);color:#fff}.danger{background-color:#e11900;border-color:#e11900;color:#fff}.danger:hover{background-color:rgba(225,25,0,.7411764705882353);color:#fff}.warning{background-color:#ffe975;border-color:#ffe975;color:#66512c}.warning:hover{background-color:rgba(255,233,117,.7411764705882353);color:#66512c}.dark{background-color:#000;border-color:#000;color:#fff}.dark:hover{background-color:rgba(0,0,0,.7411764705882353);color:#fff}.light{background-color:#eee;border-color:#eee;color:#000}.light:hover{background-color:hsla(0,0%,93.3%,.7411764705882353);color:#000}.white{background-color:#fff;border-color:#fff;color:#000}.white:hover{background-color:hsla(0,0%,100%,.8352941176470589);color:#000}.info{background-color:#17a2b8;border-color:#17a2b8;color:#fff}.info:hover{background-color:rgba(23,162,184,.7411764705882353);color:#fff}"]
            },] }
];
CollapseComponent.ctorParameters = () => [
    { type: Renderer2 }
];
CollapseComponent.propDecorators = {
    style: [{ type: Input }],
    isOpen: [{ type: Input }],
    navbar: [{ type: Input }],
    expand: [{ type: Input }],
    cdbCollapse: [{ type: ViewChild, args: ['cdbCollapse', { static: false },] }]
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29sbGFwc2UuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9hcHBsZS9Eb2N1bWVudHMvcHJvamVjdHMvcHJvamVjdF9kZXZ3YXJlcy9Db250cmFzdC1Cb290c3RyYXAtQW5ndWxhci9wcm9qZWN0cy9uZy1jZGJhbmd1bGFyL3NyYy8iLCJzb3VyY2VzIjpbImxpYi9jb21wb25lbnRzL2NvbGxhcHNlL2NvbGxhcHNlLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBRUwsU0FBUyxFQUVULEtBQUssRUFFTCxTQUFTLEVBQ1QsU0FBUyxHQUNWLE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFDTCxPQUFPLEVBQ1AsS0FBSyxFQUNMLEtBQUssRUFDTCxVQUFVLEVBQ1YsT0FBTyxFQUNQLEtBQUssR0FDTixNQUFNLHFCQUFxQixDQUFDO0FBeUI3QixNQUFNLE9BQU8saUJBQWlCO0lBZ0I1QixZQUFvQixRQUFtQjtRQUFuQixhQUFRLEdBQVIsUUFBUSxDQUFXO1FBYjlCLFdBQU0sR0FBRyxLQUFLLENBQUM7UUFDZixXQUFNLEdBQVksS0FBSyxDQUFDO1FBQ3hCLFdBQU0sR0FBd0MsS0FBSyxDQUFDO1FBRzdELE9BQUUsR0FBVyxHQUFHLENBQUM7UUFDakIsT0FBRSxHQUFXLEdBQUcsQ0FBQztRQUNqQixPQUFFLEdBQVcsR0FBRyxDQUFDO1FBQ2pCLE9BQUUsR0FBVyxJQUFJLENBQUM7SUFLd0IsQ0FBQztJQUUzQyxRQUFRO1FBQ04sSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLElBQUksRUFBRTtZQUN4QixJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssS0FBSyxFQUFFO2dCQUN6QixJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQzthQUNyQjtpQkFBTTtnQkFDTCxJQUFJLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2FBQ3JDO1lBRUQsTUFBTSxDQUFDLGdCQUFnQixDQUFDLFFB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d0M7Z0JBRXhDLFVBQVUsRUFBRTtvQkFDVixPQUFPLENBQUMsWUFBWSxFQUFFO3dCQUNwQixLQUFLLENBQUMsV0FBVyxFQUFFLEtBQUssQ0FBQyxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBRSxDQUFDLENBQUM7d0JBQ2hFLEtBQUssQ0FBQyxVQUFVLEVBQUUsS0FBSyxDQUFDLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxRQUFRLEVBQUUsU0FBUyxFQUFFLENBQUMsQ0FBQzt3QkFDOUQsVUFBVSxDQUFDLHdCQUF3QixFQUFFLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQztxQkFDNUQsQ0FBQztvQkFDRixPQUFPLENBQUMsYUFBYSxFQUFFO3dCQUNyQixLQUFLLENBQUMsV0FBVyxFQUFFLEtBQUssQ0FBQyxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBRSxDQUFDLENBQUM7d0JBQ2hFLEtBQUssQ0FBQyxVQUFVLEVBQUUsS0FBSyxDQUFDLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxRQUFRLEVBQUUsU0FBUyxFQUFFLENBQUMsQ0FBQzt3QkFDOUQsVUFBVSxDQUFDLHdCQUF3QixFQUFFOzRCQUNuQyxLQUFLLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxFQUFFLE9BQU8sRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFO2dDQUNoQyxRQUFRLEVBQUUsSUFBSTs2QkFDZixDQUFDOzRCQUNGLE9BQU8sQ0FBQyxZQUFZLENBQUM7eUJBQ3RCLENBQUM7cUJBQ0gsQ0FBQztpQkFDSDs7YUFDRjs7O1lBbENDLFNBQVM7OztvQkFxQ1IsS0FBSztxQkFDTCxLQUFLO3FCQUNMLEtBQUs7cUJBQ0wsS0FBSzswQkFTTCxTQUFTLFNBQUMsYUFBYSxFQUFFLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIEFmdGVyVmlld0luaXQsXG4gIENvbXBvbmVudCxcbiAgRWxlbWVudFJlZixcbiAgSW5wdXQsXG4gIE9uSW5pdCxcbiAgUmVuZGVyZXIyLFxuICBWaWV3Q2hpbGQsXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtcbiAgdHJpZ2dlcixcbiAgc3RhdGUsXG4gIHN0eWxlLFxuICB0cmFuc2l0aW9uLFxuICBhbmltYXRlLFxuICBxdWVyeSxcbn0gZnJvbSAnQGFuZ3VsYXIvYW5pbWF0aW9ucyc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ0NEQkNvbGxhcHNlJyxcbiAgZXhwb3J0QXM6ICdjZGJDb2xsYXBzZScsXG4gIHRlbXBsYXRlVXJsOiAnLi9jb2xsYXBzZS5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogWycuL2NvbGxhcHNlLmNvbXBvbmVudC5zY3NzJ10sXG4gIGFuaW1hdGlvbnM6IFtcbiAgICB0cmlnZ2VyKCdleHBhbmRCb2R5JywgW1xuICAgICAgc3RhdGUoJ2NvbGxhcHNlZCcsIHN0eWxlKHsgaGVpZ2h0OiAnMHB4Jywgb3ZlcmZsb3c6ICdoaWRkZW4nIH0pKSxcbiAgICAgIHN0YXRlKCdleHBhbmRlZCcsIHN0eWxlKHsgaGVpZ2h0OiAnKicsIG92ZXJmbG93OiAndmlzaWJsZScgfSkpLFxuICAgICAgdHJhbnNpdGlvbignZXhwYW5kZWQgPD0+IGNvbGxhcHNlZCcsIGFuaW1hdGUoJzM1MG1zIGVhc2UnKSksXG4gICAgXSksXG4gICAgdHJpZ2dlcignZXhwYW5kQm9keTInLCBbXG4gICAgICBzdGF0ZSgnY29sbGFwc2VkJywgc3R5bGUoeyBoZWlnaHQ6ICcwcHgnLCBvdmVyZmxvdzogJ2hpZGRlbicgfSkpLFxuICAgICAgc3RhdGUoJ2V4cGFuZGVkJywgc3R5bGUoeyBoZWlnaHQ6ICcqJywgb3ZlcmZsb3c6ICd2aXNpYmxlJyB9KSksXG4gICAgICB0cmFuc2l0aW9uKCdleHBhbmRlZCA8PT4gY29sbGFwc2VkJywgW1xuICAgICAgICBxdWVyeSgnKicsIHN0eWxlKHsgb3BhY2l0eTogMCB9KSwge1xuICAgICAgICAgIG9wdGlvbmFsOiB0cnVlLFxuICAgICAgICB9KSxcbiAgICAgICAgYW5pbWF0ZSgnMzUwbXMgZWFzZScpLFxuICAgICAgXSksXG4gICAgXSksXG4gIF0sXG59KVxuZXhwb3J0IGNsYXNzIENvbGxhcHNlQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBBZnRlclZpZXdJbml0IHtcbiAgY2xhc3M7XG4gIEBJbnB1dCgpIHN0eWxlOiBzdHJpbmc7XG4gIEBJbnB1dCgpIGlzT3BlbiA9IGZhbHNlO1xuICBASW5wdXQoKSBuYXZiYXI6IGJvb2xlYW4gPSBmYWxzZTtcbiAgQElucHV0KCkgZXhwYW5kOiAnc20nIHwgJ21kJyB8ICdsZycgfCAneGwnIHwgYm9vbGVhbiA9IGZhbHNlO1xuICBleHBhbmRBbmltYXRpb25TdGF0ZTogc3RyaW5nO1xuXG4gIHNtOiBudW1iZXIgPSA1NzY7XG4gIG1kOiBudW1iZXIgPSA3Njg7XG4gIGxnOiBudW1iZXIgPSA5OTI7XG4gIHhsOiBudW1iZXIgPSAxMjAwO1xuICB2aWV3V2lkdGg6IG51bWJlcjtcblxuICBAVmlld0NoaWxkKCdjZGJDb2xsYXBzZScsIHsgc3RhdGljOiBmYWxzZSB9KSBjZGJDb2xsYXBzZTogRWxlbWVudFJlZjtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlbmRlcmVyOiBSZW5kZXJlcjIpIHt9XG5cbiAgbmdPbkluaXQoKSB7XG4gICAgaWYgKHRoaXMubmF2YmFyID09PSB0cnVlKSB7XG4gICAgICBpZiAodGhpcy5leHBhbmQgPT09IGZhbHNlKSB7XG4gICAgICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm1hbmFnZUlzT3BlblN0YXRlKHRoaXMuZXhwYW5kKTtcbiAgICAgIH1cblxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsICgpID0+IHtcbiAgICAgICAgdGhpcy5tYW5hZ2VJc09wZW5TdGF0ZSh0aGlzLmV4cGFuZCk7XG4gICAgICAgIHRoaXMubWFuYWdlQ29sbGFwc2VDbGFzc0FuZEFuaW1hdGlvblN0YXRlKCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB0aGlzLm1hbmFnZUNvbGxhcHNlQ2xhc3NBbmRBbmltYXRpb25TdGF0ZSgpO1xuICB9XG5cbiAgbmdBZnRlclZpZXdJbml0KCkge1xuICAgIGlmICh0aGlzLm5hdmJhciA9PT0gdHJ1ZSkge1xuICAgICAgdGhpcy5yZW5kZXJlci5hZGRDbGFzcyh0aGlzLmNkYkNvbGxhcHNlLm5hdGl2ZUVsZW1lbnQsICduYXZiYXItY29sbGFwc2UnKTtcbiAgICB9XG4gIH1cblxuICB0b2dnbGVDb2xsYXBzZSgpIHtcbiAgICB0aGlzLmlzT3BlbiA/IHRoaXMuaGlkZSgpIDogdGhpcy5zaG93KCk7XG4gIH1cblxuICBzaG93KCkge1xuICAgIHRoaXMuaXNPcGVuID0gdHJ1ZTtcbiAgICB0aGlzLmV4cGFuZEFuaW1hdGlvblN0YXRlID0gJ2V4cGFuZGVkJztcbiAgfVxuXG4gIGhpZGUoKSB7XG4gICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcbiAgICB0aGlzLmV4cGFuZEFuaW1hdGlvblN0YXRlID0gJ2NvbGxhcHNlZCc7XG4gIH1cblxuICBvbkV4cGFuZEJvZHlTdGFydChldmVudDogQW5pbWF0aW9uRXZlbnQpIHtcbiAgICB0aGlzLmNsYXNzID0gJ2NvbGxhcHNpbmcnO1xuICB9XG5cbiAgb25FeHBhbmRCb2R5RG9uZShldmVudDogQW5pbWF0aW9uRXZlbnQpIHtcbiAgICBpZiAodGhpcy5pc09wZW4gPT09IHRydWUpIHtcbiAgICAgIHRoaXMuY2xhc3MgPSAnY29sbGFwc2Ugc2hvdyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY2xhc3MgPSAnY29sbGFwc2UnO1xuICAgIH1cbiAgfVxuXG4gIG1hbmFnZUlzT3BlblN0YXRlKGV4cGFuZCkge1xuICAgIGlmICh0aGlzLmV4cGFuZCAhPT0gZmFsc2UpIHtcbiAgICAgIGlmIChleHBhbmQgPT09ICdzbScpIHtcbiAgICAgICAgdGhpcy52aWV3V2lkdGggPSB0aGlzLnNtO1xuICAgICAgfSBlbHNlIGlmIChleHBhbmQgPT09ICdtZCcpIHtcbiAgICAgICAgdGhpcy52aWV3V2lkdGggPSB0aGlzLm1kO1xuICAgICAgfSBlbHNlIGlmIChleHBhbmQgPT09ICdsZycpIHtcbiAgICAgICAgdGhpcy52aWV3V2lkdGggPSB0aGlzLmxnO1xuICAgICAgfSBlbHNlIGlmIChleHBhbmQgPT09ICd4bCcpIHtcbiAgICAgICAgdGhpcy52aWV3V2lkdGggPSB0aGlzLnhsO1xuICAgICAgfVxuXG4gICAgICBpZiAobWF0Y2hNZWRpYShgKG1pbi13aWR0aDogJHt0aGlzLnZpZXdXaWR0aH1weClgKS5tYXRjaGVzKSB7XG4gICAgICAgIHRoaXMuaXNPcGVuID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1hdGNoTWVkaWEoYChtYXgtd2lkdGg6ICR7dGhpcy52aWV3V2lkdGggLSAwLjAyfXB4KWApLm1hdGNoZXMpIHtcbiAgICAgICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBtYW5hZ2VDb2xsYXBzZUNsYXNzQW5kQW5pbWF0aW9uU3RhdGUoKSB7XG4gICAgaWYgKHRoaXMuaXNPcGVuID09PSB0cnVlKSB7XG4gICAgICB0aGlzLmNsYXNzID0gJ2NvbGxhcHNlIHNob3cnO1xuICAgICAgdGhpcy5leHBhbmRBbmltYXRpb25TdGF0ZSA9ICdleHBhbmRlZCc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY2xhc3MgPSAnY29sbGFwc2UnO1xuICAgICAgdGhpcy5leHBhbmRBbmltYXRpb25TdGF0ZSA9ICdjb2xsYXBzZWQnO1xuICAgIH1cbiAgfVxufVxuIl19